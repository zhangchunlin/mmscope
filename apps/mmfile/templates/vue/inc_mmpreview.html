<script>
Vue.component('mm-preview-image', {
    delimiters: ['{', '}'],
    props : ["id","mimetype","filename","fullpath"],
    data : function(){
        return {
            url : "{{=url_for('mmfile.views.MmFile.filedown')}}?id="+this.id,
            modal_full : false,
            filename : this.filename,
            fullpath : this.fullpath
        }
    },
    template: `<span>
        <modal :title="filename" v-model="modal_full" class-name="vertical-center-modal" width="auto" style="text-align:center;vertical-align:middle;">
            {fullpath}<br/>
            <img :src="url" style="margin: 6px;">
        </modal>
        <img :src="url" width="256" @click="modal_full=true" style="margin: 6px;">
    </span>`
})

Vue.component('mm-preview-audio', {
    delimiters: ['{', '}'],
    props : ["id","mimetype"],
    data : function(){
        return {
            url : "{{=url_for('mmfile.views.MmFile.filedown')}}?id="+this.id,
            type : this.mimetype
        }
    },
    template: '<audio controls="controls"><source :src="url" :type="type" />Your browser does  not support this audio format.</audio>'
})

Vue.component('mm-preview-video', {
    delimiters: ['{', '}'],
    props : ["id","mimetype"],
    data : function(){
        return {
            url : "{{=url_for('mmfile.views.MmFile.filedown')}}?id="+this.id,
            type : this.mimetype
        }
    },
    template: '<video controls="controls" width="256"><source :src="url" :type="type" />Your browser does  not support this video tag.</video>'
})
</script>
